!function(n){n.fn.scrollPagination=function(t){var a=n.extend(n.fn.scrollPagination.defaults,t),l=a.scrollTarget;return null==l&&(l=obj),a.scrollTarget=l,this.each(function(){n.fn.scrollPagination.init(n(this),a)})},n.fn.stopScrollPagination=function(){return this.each(function(){n(this).attr("scrollPagination","disabled")})};var t=!1;n.fn.scrollPagination.loadContent=function(a,l){var o=l.scrollTarget,e=n(o).scrollTop()+l.heightOffset>=n(document).height()-n(o).height();e&&0==t&&(t=!0,null!=l.beforeLoad&&l.beforeLoad(),n(a).children().attr("rel","loaded"),n.ajax({type:"POST",url:l.contentPage,data:l.contentData,success:function(o){n(a).append(o);var e=n(a).children("[rel!=loaded]");t=!1,null!=l.afterLoad&&l.afterLoad(e)},dataType:"html"}))},n.fn.scrollPagination.init=function(t,a){var l=a.scrollTarget;n(t).attr("scrollPagination","enabled"),n(l).scroll(function(l){"enabled"==n(t).attr("scrollPagination")?n.fn.scrollPagination.loadContent(t,a):l.stopPropagation()}),n.fn.scrollPagination.loadContent(t,a)},n.fn.scrollPagination.defaults={contentPage:null,contentData:{},beforeLoad:null,afterLoad:null,scrollTarget:null,heightOffset:0}}(jQuery);